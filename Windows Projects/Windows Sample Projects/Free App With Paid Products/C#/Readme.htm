<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt">
  <head>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" />
    <META NAME="save" CONTENT="history" />
    <title>FreeAppWithPaidProductsWP8</title>
    <style type="text/css">
 body
{
	color: #000000;
	font-family:	Verdana;
	font-size: medium;
	font-style: normal;
	font-weight: normal;
	margin-top:	0;
	margin-bottom:	0;
	margin-left:	0;
	margin-right:	0;
	width:	100%;
}
dl
{
	margin-top:	15;
	margin-bottom:5;
	padding-left:	1;
}

dl.authored dt {
	font-style:	bold;
	margin-top: 2;
}

dd {
	margin-left:	20px;
}

ul
{
	margin-top:0;
	margin-bottom:0;
	margin-left: 17;
	list-style-type: disc;
}

ul.nobullet
{
	display: block;
	list-style: none;
}

ul ul
{
	margin-bottom: 4;
	margin-left: 17;
	margin-top: 3;
	list-style-type: disc;
}

ol {
	margin-top:0;
	margin-bottom:0;
	margin-left: 28;
	list-style-type: decimal;
}

ol ol {
	margin-bottom: 4;
	margin-left: 28;
	margin-top: 3;
	list-style-type: lower-alpha;
}

li {
	margin-top: 5;
	margin-bottom: 5;
}

p {
	margin-top: 10;
	margin-bottom: 5;
}

a:link {
	color:	#0000FF;
}

a:visited {
	color: #DD7C3B;
}

a:hover {
	color:	#3366FF;
}

code
{
	font-family:	Monospace, Courier New, Courier;
	font-size: 105%;
	color:	#000066;
}

span.parameter {
	font-style: italic;
}

span.italic {
	font-style: italic;
}

span.selflink {
	font-weight: bold;
}

span.nolink {
	font-weight: bold;
}

div.breadCrumbs {
	font-size: 8pt;
	margin-bottom: 5;
	border-bottom-color: #C8CDDE;
	border-bottom-style: solid;
	border-bottom-width: 1;
	padding-bottom: 5;
}

div#mainSection
{
	font-size: 62.5%;
	width: 100%;
}
html&gt;body #mainSection
{
	font-size:73%;
	width: 100%;
}

div#mainBody
{
	font-size: 100%;
	margin-left: 15;
	margin-top: 10;
}

html&gt;body #mainBody
{
	font-size: 93%;
	margin-left: 15;
	margin-top: 10;
	padding-bottom: 20;
}

div#mainBody p, div#mainBody ol, div#mainBody ul, div#mainBody dl
{
	padding-right: 5;
}

div#header
{
	padding-top:	0;
	padding-bottom:	0;
	padding-left:	0;
	padding-right:	0;
	width:	100%;
}

div#header table
{
	width:	100%;
}

div#header table td
{
	color: #0000FF;
	font-size: 70%;
	margin-top:	0;
	margin-bottom:	0;
	padding-right: 20;
}

div#header table tr#headerTableRow2 td
{
	padding-left: 13px;
}

div#header table tr#headerTableRow3 td
{
	padding-top: 2px;
	padding-left: 15;
}

div#header table#bottomTable
{
	border-top-color: #FFFFFF;
	border-top-style: solid;
	border-top-width: 1;
	text-align: left;
	padding-left: 15;
	padding-top: 5px;
	padding-bottom: 5px;
}

div#mainSection table td.imageCell
{
	white-space: nowrap;
}

div#mainBody div.alert, div#mainBody div.code, div#mainBody div.tableSection
{
	width:98.9%;
}

div#mainBody div.section div.alert, div#mainBody div.section div.code,
div#mainBody div.section div.tableSection
{
	width:100%;
}

div#mainBody div.section ul div.alert, div#mainBody div.section ul div.code,
div#mainBody div.section ul div.tableSection, div#mainBody div.section ol div.alert, 
div#mainBody div.section ol div.code, div#mainBody div.section ol div.tableSection
{
	width:100%;
}

div.alert p, div.code p
{
	margin-top:5;
	margin-bottom:8;
}
dd p
{
	margin-top:2;
	margin-bottom:8;
}
div.tableSection p
{
	margin-top:1;
	margin-bottom:4;
}	
li p
{
	margin-top:2;
	margin-bottom:2;
}
div.seeAlsoNoToggleSection dl
{
	margin-top:8;
	margin-bottom:1;
	padding-left:1;
}
div.seeAlsoNoToggleSection dd p
{
	margin-top:2;
	margin-bottom:8;
}
div.section dl
{
	margin-top:8;
	margin-bottom:1;
	padding-left:1;
}
div.section dd p
{
	margin-top:2;
	margin-bottom:8;
}

div.code table
{
	border: 0;
	font-size: 95%;
	margin-bottom: 5;
	margin-top:-.4em;
	width: 100%
}

div.code table th
{	
	background:	#EFEFF7;
	border-bottom-color: #C8CDDE;
	border-bottom-style: solid;
	border-bottom-width: 1;
	color: #000066;
	font-weight: bold;
	padding-left: 5;
	padding-right: 5;
}

div.code table td
{
	background:	#F7F7FF;
	border-top-color: #FFFFFF;
	border-top-style: solid;
	border-top-width: 1;
	padding-left: 5;
	padding-right: 5;
	padding-top: 5;
}

span#runningHeaderText
{
	color: #8C8C8C;
	font-size: 90%;
	padding-left: 13;
}

span#nsrTitle
{
	color: #000000;
	font-size: 160%;
	font-weight: 400;
	font-family: arial;
}

div#footer
{
	font-size: 80%;
	margin-top:	0;
	margin-bottom:	0;
	margin-left:	0;
	margin-right:	0;
	padding-top:	8;
	padding-bottom:	6;
	padding-left:	1;
	padding-right:	1;
	width:	100%;
}

html&gt;body div#footer
{
	font-size: 80%;
	margin-top:	0;
	margin-bottom:	0;
	margin-left:	0;
	margin-right:	0;
	padding-top:	2;
	padding-bottom:	6;
	padding-left:	1;
	padding-right:	1;
	width:	98%;
}

div.seeAlsoNoToggleSection
{
	margin-left:0;
	padding-top:	2;
	padding-bottom:	2;
	padding-left:	0;
	padding-right:	15;
	width:	100%;
}

div.section
{
	margin-left:0;
	padding-top:	0;
	padding-bottom:	0;
	padding-left:	16;
	padding-right:	15;
	width:	100%;
}
html&gt;body div.section
{
	margin-left:0;
	padding-top:	2;
	padding-bottom:	2;
	padding-left:	16;
	padding-right:	15;
	width:	97%;
}
div.seeSection
{
	margin-left:0;
	padding-top:	0;
	padding-bottom:	2;
	padding-left:	16;
	padding-right:	15;
	width:	100%;
}

.heading
{
	font-weight:	bold;
	margin-top:		18;
	margin-bottom:	8;
}

h1.heading
{
	color: #000000;
	font-size:	130%;
}

.subHeading
{
	font-weight:	bold;
	margin-bottom:	4;
}
.procedureSubHeading
{
	font-weight: bold;
	margin-bottom: 4;
}

h3.subHeading
{
	color:  #000000;
	font-size: 120%;
    font-weight:800;
}

h3.procedureSubHeading
{
	color: #000000;
	font-size: 120%;
}

h4.subHeading
{
	color: #000000;
	font-size: 110%;
	font-weight:800;
}
span.labelheading, div.labelheading
{
	font-size:100%;
	color:#003399;
}

img.note
{
	border: 0;
	margin-right: 3;
}

div#mainSection table
{
	border: 0;
	font-size: 100%;
	width:	98.9%;
	margin-top: 5px;
	margin-bottom: 5px;
}

div#mainSection table tr
{
	vertical-align: top;
}

div#mainSection table th
{
	background-color: #EFEFF7;
	border-bottom: 1px solid #C8CDDE;
	border-left: 1px none #D5D5D3;
	color: #000066;
	padding-left: 5px;
	padding-right: 5px;
	text-align: left;
}

div#mainSection table td
{
	background-color: #F7F7FF;
	border-bottom: 1px solid #D5D5D3;
	border-left: 1px none #D5D5D3;
	padding-left: 5px;
	padding-right: 5px;
}

div#mainSection table td.imageCell
{
	white-space: nowrap;
}

div.code table
{
	border: 0;
	font-size: 95%;
	margin-bottom: 5;
	width: 100%
}

div.code table th
{	
	background:	#EFEFF7;
	border-bottom-color: #C8CDDE;
	border-bottom-style: solid;
	border-bottom-width: 1;
	color: #000066;
	font-weight: bold;
	padding-left: 5;
	padding-right: 5;
}

div.code table td
{
	background:	#F7F7FF;
	border-top-color: #FFFFFF;
	border-top-style: solid;
	border-top-width: 1;
	padding-left: 5;
	padding-right: 5;
	padding-top: 5;
}

div.alert table
{
	border: 0;
	font-size: 100%;
	width:	100%;
}

div.alert table th
{
	background:	#EFEFF7;
	border-bottom-width: 0;
	color: #000066;
	padding-left: 5;
	padding-right: 5;
}

div.alert table td
{
	background:	#F7F7FF;
	border-top-color: #FFFFFF;
	border-top-style: solid;
	border-top-width: 1;
	padding-left: 5;
	padding-right: 5;
}

div.code pre
{
	font-family:	Monospace, Courier New, Courier;
	font-size: 105%;
	color:	#000066;
	word-wrap:	break-word;
	background: #F7F7FF;
}

.tip
{
	color:	#0000FF;
	font-style: italic;
	cursor: pointer;
	text-decoration:underline;
}

.math
{
	font-family: Times New Roman;
	font-size: 125%
}

div.footerLine {
	margin: 0;
	width: 100%;
	padding-top:	8;
	padding-bottom:	6;
	/*padding-left:	5;
	padding-right:	2;*/

}

div.hr1 {
	margin: 0;
	width: 100%;
	height: 1px;
	padding: 0;
	background: #C8CDDE;
	font-size: 1px;
}

div.hr2 {
	margin: 0;
	width: 100%;
	height: 1px;
	padding: 0;
	background: #D4DFFF;
	font-size: 1px;
}

div.hr3 {
	margin: 0;
	width: 100%;
	height: 1px;
	padding: 0;
	background: #EEEEFF;
	font-size: 1px;
}

span.cs {
	display: none;
}

span.vb {
	display: none;
}

span.cpp {
	display: none;
}

span.nu {
	display: inline;
}

span.fs 
{
	display: none;
}

span.code {
	font-family:	Monospace, Courier New, Courier;
	font-size: 105%;
	color:	#000066; 
}
span.ui {
	font-weight: bold;
}
span.math {
	font-style: italic;
}
span.input {
	font-weight: bold;
}
span.term {
	font-style: italic;
}
span.label 
{
	font-weight: bold;
}
span.foreignPhrase {
	font-style: italic;
}
span.placeholder {
	font-style: italic;
}
span.keyword 
{
	font-weight: bold;
}
span.typeparameter
{
	font-style:italic;
}

div.caption
{
	font-weight: bold;
	font-size:100%;
	color:#003399;
}


div.code span.keyword 
{
	color: #871F78;
}

div.code span.parameter 
{
	font-style: italic;
}

div.code span.literal 
{
	color:#8B0000;
}

div.code span.comment 
{
	color: #006400;
}

span.syntaxLabel
{
	color:#0481DA;
	font-weight:bold;
}
span.introStyle
{
	color:DarkGray;
}

div.seeAlsoStyle
{
	padding-top:5px;

}

td.nsrBottom
{
	height: 0.6em;
	width: 100%;
}
  </style>
  </head>
  <body>
    <div id="header">
      <table id="bottomTable" cellpadding="0" cellspacing="0">
        <tr id="headerTableRow1">
          <td align="left">
            <span id="runningHeaderText" />
          </td>
        </tr>
        <tr id="headerTableRow2">
          <td align="left">
            <span id="nsrTitle">FreeAppWithPaidProductsWP8</span>
          </td>
        </tr>
        <tr id="headerTableRow3">
          <td align="left" />
        </tr>
      </table>
      <table id="gradientTable">
        <tr>
          <td class="nsrBottom" background="../icons/gradient.gif" />
        </tr>
      </table>
    </div>
    <div id="mainSection">
      <div id="mainBody">
        <font color="DarkGray"></font>
        <p /> <div class="summary"><p>This sample shows you how to offer in-app products for purchase in your Windows Phone 8 app.</p></div><div class="introduction"><p>You can use in-app purchase to sell digital content in your app. Windows Phone 8 provides a safe purchase experience on the phone, and that means confidence for your customers. As an app developer, you first upload to the Store a list of products that you want to sell in your app. Then, add UI to your app that offers your in-app products for purchase. This sample shows two scenarios. In the single-product scenario, the app offers a single product, an ad-removal product in this case, that has an identifier that’s hard-coded into the app. This scenario scales to a small, fixed number of products; it’s not suitable for a catalog with a product list that changes over time. In the product list scenario, the app queries the Store for listing information about the products associated with the app. The user can browse and purchase from a list of products. In both scenarios, the app UI changes to reflect changes in the purchase state of a product license. Both scenarios portray a monetization strategy for a free app that offers in-app purchase.</p><p>Follow these steps to take the sample for a test drive.</p><h3 class="procedureSubHeading">To run the sample</h3><div class="subSection"><ol><li><p>Start Visual Studio Express 2012 for Windows Phone and select <span class="ui">File</span> &gt; <span class="ui">Open</span> &gt; <span class="ui">Project/Solution</span>.</p></li><li><p>Go to the directory in which you unzipped the sample. Double-click the Visual Studio Express 2012 for Windows Phone solution (<span class="label">.sln</span>) file.</p></li><li><p>Confirm that the solution configuration drop-down list is set to <span class="ui">Debug</span> and then, on the <span class="ui">Build</span> menu, click <span class="ui">Build Solution</span>. (Ctrl+Shift+B)</p></li><li><p>On the <span class="ui">Debug</span> menu, click <span class="ui">Start Without Debugging</span>. (Ctrl+F5)</p><p>The first panorama page (<span class="ui">Single product</span>) reports that you are running a debug build of the sample.</p></li><li><p>This page shows the single-product scenario. Tap <span class="ui">Buy product</span> to simulate the in-app purchase. <span class="ui">Use product</span> is now enabled. Tap <span class="ui">Use product</span> to demonstrate that the product is now licensed.</p></li><li><p>Swipe to the second panorama page (<span class="ui">Product list</span>), which shows the product list scenario, and which displays a list of products for purchase. Tap any product to simulate purchasing it.</p></li></ol></div><p><b>What’s in the project?</b></p><p>The single-product scenario is implemented very simply inside the <span sdata="langKeyword" value="MainPage"><span class="keyword">MainPage</span></span> class. In the product list scenario, a class named <span sdata="langKeyword" value="ProductListViewModel"><span class="keyword">ProductListViewModel</span></span> serves as the view model for the <span class="ui">Product list</span> panorama page. A <span sdata="langKeyword" value="ListBox"><span class="keyword">ListBox</span></span> on the <span class="ui">Product list</span> page is bound to the view model’s <span sdata="langKeyword" value="Products"><span class="keyword">Products</span></span> property for its items, and to <span sdata="langKeyword" value="SelectedProduct"><span class="keyword">SelectedProduct</span></span> for its selection. The element type of <span sdata="langKeyword" value="Products"><span class="keyword">Products</span></span>, and the type of <span sdata="langKeyword" value="SelectedProduct"><span class="keyword">SelectedProduct</span></span>, is the <span sdata="langKeyword" value="ProductViewModel"><span class="keyword">ProductViewModel</span></span> class. This is the type targeted by the <span sdata="langKeyword" value="ListBox"><span class="keyword">ListBox</span></span> control’s <span sdata="langKeyword" value="ItemTemplate"><span class="keyword">ItemTemplate</span></span>.</p><p><b>Which APIs are used?</b></p><div class="caption"></div><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>API</p></th><th><p>Use</p></th></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.currentapp.aspx">Windows.ApplicationModel.Store.CurrentApp</a></p></td><td><p>The class used to get license and listing info about the current app and to perform in-app purchase.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.currentapp.licenseinformation.aspx">Windows.ApplicationModel.Store.CurrentApp.LicenseInformation</a></p></td><td><p>The property that contains the license metadata for the current app. Used in the sample to get license info about the products associated with the current app.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.licenseinformation.aspx">Windows.ApplicationModel.Store.LicenseInformation</a></p></td><td><p>The type of the <span sdata="langKeyword" value="LicenseInformation"><span class="keyword">LicenseInformation</span></span> property. Describes whether the user’s license for the current app is trial or full, and lists all in-app products the user owns that are associated with the current app. </p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.licenseinformation.productlicenses.aspx">Windows.ApplicationModel.Store.LicenseInformation.ProductLicenses</a></p></td><td><p>The property used to enumerate the in-app products the user owns and that are associated with the current app. </p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.productlicense.aspx">Windows.ApplicationModel.Store.ProductLicense</a></p></td><td><p>The element type of the <span sdata="langKeyword" value="ProductLicenses"><span class="keyword">ProductLicenses</span></span> property. Provides proof of purchase for a single in-app product the user owns. The sample uses the <span sdata="langKeyword" value="IsActive"><span class="keyword">IsActive</span></span> property.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.productlicense.isactive.aspx">Windows.ApplicationModel.Store.ProductLicense.IsActive</a></p></td><td><p>The property that indicates whether the product's license is active. Only active licenses should be fulfilled.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.currentapp.loadlistinginformationasync">Windows.ApplicationModel.Store.CurrentApp.LoadListingInformationAsync</a></p></td><td><p>The method used to obtain the list of in-app products currently available for purchase in the running app.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.listinginformation.aspx">Windows.ApplicationModel.Store.ListingInformation</a></p></td><td><p>The type returned by <span sdata="langKeyword" value="LoadListingInformationAsync"><span class="keyword">LoadListingInformationAsync</span></span>. Contains info about the app and the products associated with it.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.listinginformation.productlistings.aspx">Windows.ApplicationModel.Store.ListingInformation.ProductListings</a></p></td><td><p>The property of <span sdata="langKeyword" value="ListingInformation"><span class="keyword">ListingInformation</span></span>(the type returned by <span sdata="langKeyword" value="LoadListingInformationAsync"><span class="keyword">LoadListingInformationAsync</span></span>). Used to enumerate the available products.</p></td></tr><tr><td><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/windows.applicationmodel.store.productlisting.aspx">Windows.ApplicationModel.Store.ProductListing</a></p></td><td><p>The element type of <span sdata="langKeyword" value="ProductListings"><span class="keyword">ProductListings</span></span>, which represents a single in-app product that’s available for purchase. Accessible only via a <span sdata="langKeyword" value="ProductListings"><span class="keyword">ProductListings</span></span> enumeration. The sample uses the <span sdata="langKeyword" value="Name"><span class="keyword">Name</span></span> and <span sdata="langKeyword" value="ImageUri"><span class="keyword">ImageUri</span></span> properties.</p></td></tr></table></div><p><b>Running the sample in debug and release configurations</b></p><p>Code that calls licensing APIs such as those in this sample can access a license only when the app is published to the Store. So, the sample simulates the purchase step in debug configuration only, so you can see how the UI works. You can use the same conditional compilation technique in your own app. The app you eventually publish to the Store will be a release build and that build will contain code that accesses real license info.</p><p><b>See also</b></p><ul><li><p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj206949(v=vs.105).aspx">In-app purchase for Windows Phone 8</a></p></li></ul></div></div>
      <div id="footer">
        <div class="footerLine" />
      </div>
      <p />
    </div>
  </body>
</html>