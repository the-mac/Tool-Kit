<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,1:ImageSprite;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Content/Css:1&amp;amp;hashKey=E7560C71640616C5057FAEACB58DCB00" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/2f95808e-ca34-4249-88ff-44fabe33cdc0Combined.css,1:LinkList,2:ImageSprite,2:SiteFeedbackLink;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Themes/Base/Content:1,/Areas/Epx/Content/Css:2&amp;amp;hashKey=EEE39C2D6B93379FDAF50337BE99AF8C" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>URI Association Sample</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>URI Association Sample</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Windows Phone 8
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Extensibility, uri mapping, nfc, proximity, uri associations
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Phone
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary Language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Last Updated</label>
                    <div id="LastUpdated">3/5/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/URI-Association-Sample-7915a233">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy Code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<div id="mainBody">
<p></p>
<div class="introduction">
<p>A URI association allows your app to auto-launch when a specific URI is launched from another app. For example, a game developer may want to allow users to launch into a specific game level from a URI that is sent via text message. The flexibility of this
 feature allows for additional information to be sent in the URI itself. For more info about URI associations, see
<a href="http://msdn.microsoft.com/library/windowsphone/develop/jj206987(v=vs.105).aspx">
Auto-launching apps using file and URI associations</a>.</p>
<p>This sample includes three apps: a URI launcher and two apps to handle the URI schemes that are built in to the launcher app.</p>
<ul>
<li>
<p><span class="label">sdkURIAssociationWP8CS</span>: Use this app to launch pre-set URIs for the
<span class="code">fabrikam</span>, <span class="code">contoso</span>, and <span class="code">
litware</span> URI schemes. You can also use this app to launch custom URI schemes on the same phone and to other phones via Proximity. For more info about this app, see the
<span class="label">Using the sample</span> section.</p>
</li><li>
<p><span class="label">ContosoHandlerApp</span>: Use this app to handle the <span class="code">
contoso</span> URI scheme. When sdkURIAssociationWP8CS launches URIs with the <span class="code">
contoso</span> URI scheme, this app can automatically launch to handle the URI scheme. Note that the ContosoLitwareHandlerApp also handles the
<span class="code">contoso</span> URI scheme; when both apps are installed, the user will be presented with a menu to choose which app they want to open.
</p>
</li><li>
<p><span class="label">ContosoLitwareHandlerApp</span>: Use this app to handle the
<span class="code">contoso</span> and <span class="code">litware</span> URI schemes. When sdkURIAssociationWP8CS launches URIs with the
<span class="code">contoso</span> or <span class="code">litware</span> URI scheme, this app can automatically launch to handle the URI scheme. Note that no other apps (from this sample) handle the
<span class="code">litware</span> URI scheme; when a <span class="code">litware</span> URI is launched, this app will immediately launch to handle the URI scheme.
</p>
</li></ul>
<div class="alert">
<table width="100%" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<th align="left"><b>Important Note:</b> </th>
</tr>
<tr>
<td>
<p>Before using the sample, deploy all three apps from the solution to your emulator/phone. For more info, see the following procedures.</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><b>Build the sample</b> </p>
<ol>
<li>
<p>Start Visual Studio Express 2012 for Windows&nbsp;Phone and select <span class="ui">
File</span> &gt; <span class="ui">Open</span> &gt; <span class="ui">Project/Solution</span>.</p>
</li><li>
<p>Go to the directory in which you unzipped the sample. Double-click the Visual Studio Express 2012 for Windows&nbsp;Phone solution (<span class="label">.sln</span>) file.
</p>
</li><li>
<p>Use <span class="ui">Build</span> &gt; <span class="ui">Rebuild Solution</span> to build the sample.
</p>
</li></ol>
<p></p>
<p><b>Deploy the sample</b> </p>
<p>All three apps in the sample—sdkURIAssociationWP8CS, ContosoHandlerApp, and ContosoLitwareHandlerApp—must be deployed to the emulator/phone for the sample to work as intended. This procedure describes one of the ways you can deploy all three apps to your
 emulator/phone.</p>
<ol>
<li>
<p>In <span class="ui">Solution Explorer</span>, right-click <span class="ui">
ContosoHandlerApp</span>, then click <span class="ui">Set as StartUp Project</span>.</p>
</li><li>
<p>In the Visual Studio toolbar, confirm that the appropriate debugging target is selected.
</p>
</li><li>
<p>Right-click <span class="ui">ContosoHandlerApp</span> again, and then click <span class="ui">
Deploy</span>.</p>
</li><li>
<p>In the <span class="ui">Output</span> window, confirm that the app was deployed to the intended target.</p>
</li></ol>
<p>Repeat steps 1–4 for the other two apps in the sample: <span class="ui">ContosoLitwareHandlerApp</span> and
<span class="ui">sdkURIAssociationWP8CS</span>. </p>
<p></p>
<p><b>Run the sample</b> </p>
<ul>
<li>
<p>Confirm that sdkURIAssociationWP8CS is set as the startup project.</p>
</li><li>
<p>To run the app with debugging, press F5 or use <span class="ui">Debug</span> &gt;
<span class="ui">Start Debugging</span>.</p>
</li><li>
<p>To run the app without debugging, press Ctrl&#43;F5 or use <span class="ui">Debug</span> &gt;
<span class="ui">Start Without Debugging</span>.</p>
</li></ul>
<p><b>Using the sample</b> </p>
<p>Use the sdkURIAssociationWP8CS app to test URI associations on your phone or emulator. The app includes the following UI elements:</p>
<ul>
<li>
<p><span class="ui">Launch Fabrikam URI scheme</span>: Use this button to see what happens when no installed apps have registered to handle a URI association. The sample does not include an app to handle the
<span class="code">fabrikam</span> URI scheme, so the emulator/phone will ask if you want to want to search for apps in the Store. Note that at the time of this writing, no apps have registered to handle the fictitious
<span class="code">fabrikam</span> URI scheme.</p>
</li><li>
<p><span class="ui">Launch Litware URI scheme</span>: Use this button to see what happens when only one installed app as registered to handle a URI association. The ContosoLitwareHandlerApp launches immediately to handle the
<span class="code">litware</span> URI scheme. </p>
</li><li>
<p><span class="ui">Launch Contoso URI scheme</span>: Use this button to see what happens when multiple installed apps have registered to handle a URI association. The ContosoLitwareHandlerApp and the ContosoHandlerApp are registered to handle the
<span class="code">contoso</span> URI scheme. A menu appears to allow the user to choose which app to open.
</p>
</li><li>
<p><span class="ui">current URI scheme</span>: Use this text box to edit the current URI scheme or replace it with your own custom scheme. When you are finished editing, launch the URI by taping one of the launch buttons under it. Note that you can also use
 this to launch built-in apps. For example, <span class="code">ms-settings-wifi:</span> can be used to launch the built-in Wi-Fi Settings app.
</p>
</li><li>
<p><span class="ui">Launch current URI scheme</span>: Use this button to launch the URI that is shown in the
<span class="ui">current URI scheme</span> text box.</p>
</li><li>
<p><span class="ui">Launch current URI via Proximity</span>: Use this button to launch the URI that is shown in the
<span class="ui">current URI scheme</span> text box on another phone. Note that both phones must support NFC for this to work.
</p>
</li></ul>
</div>
</div>

</div>


    </div>
</body>
</html>
