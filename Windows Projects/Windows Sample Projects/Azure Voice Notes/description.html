<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head><link rel="stylesheet" type="text/css" href="description/Combined.css,1:ImageSprite;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Content/Css:1&amp;amp;hashKey=E7560C71640616C5057FAEACB58DCB00" xmlns="http://www.w3.org/1999/xhtml" />
<link rel="stylesheet" type="text/css" href="description/0e2d9b62-ce80-4e09-8590-74e1f72beedbCombined.css,1:LinkList,2:ImageSprite,2:SiteFeedbackLink;/Areas/Epx/Themes/Msdn/Content:0,/Areas/Epx/Themes/Base/Content:1,/Areas/Epx/Content/Css:2&amp;amp;hashKey=EEE39C2D6B93379FDAF50337BE99AF8C" xmlns="http://www.w3.org/1999/xhtml" />

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Azure Voice Notes</title>
        <link href="description/Galleries.css" type="text/css" rel="Stylesheet" /><link href="description/Layout.css" type="text/css" rel="Stylesheet" /><link href="description/Brand.css" type="text/css" rel="Stylesheet" />
        <link href="description/iframedescription.css" rel="Stylesheet" type="text/css" />
        <script src="description/offline.js" type="text/javascript"></script>
        <style type="text/css">
            #projectInfo {
                overflow: auto;
            }
            #longDesc {
                clear:both;
                margin: 25px 0 10px 0;
            }

            #SampleIndexList{
                margin-left: 15px;
            }
        </style>
    </head>
<body>
    <div id="offlineDescription">
        <h1>Azure Voice Notes</h1>
        <br/>
        <div id="projectInfo">
            <div class="section">
                    <div class="itemBarLong tagsContainer">
                        <label for="Technologies">Technologies</label>
                        <div id="Technologies">
                            Windows Phone 8, Bing Speech
                        </div>
                    </div>
                    <div class="itemBarLong tagsContainer">
                        <label for="Topics">Topics</label>
                        <div id="Topics">
                            Speech recognition, Windows Azure Mobile Services
                        </div>
                    </div>
                <div class="itemBarLong">
                    <label for="Platforms">Platforms</label>
                    <div id="Platforms">
                        Phone
                    </div>
                </div>
                <div class="itemBarLong">
                    <label for="Requirements">Requirements</label>
                    <div id="Requirements">
                        
                    </div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Primary Language</label>
                    <div id="LastUpdated">en-US</div>
                </div>
                <div class="itemBar">
                    <label for="LastUpdated">Last Updated</label>
                    <div id="LastUpdated">6/25/2013</div>
                </div>
                <div class="itemBarLong">
                    <label for="License">License</label>
                    <div id="License">
                        <a href="license.rtf">MS-LPL</a></div>
                </div>
                <div class="itemBar">
                    <div class="viewonlinecont">
                        <a data-link="online" href="http://code.msdn.microsoft.com/Azure-Voice-Notes-a86cf2b9">View this sample online</a>
                    </div>
                </div>
            </div>
        </div>
        
                   
<script type="text/javascript">
    function initializePage() {
        var otherTabClass = 'otherTab';
        var hiddenPreClass = 'hidden';

        var htmlDecode = function(encodedData) {
            var decodedData = "";
            if (encodedData) {
                var div = document.createElement('div');
                div.innerHTML = encodedData;
                decodedData = div.firstChild.nodeValue.replace( /\\r\\n/ig , '\r\n');
            }
            return decodedData;
        };
                
        Galleries.iterateElem(Galleries.findElem(null, 'div', 'scriptcode'), function (index, scriptBlock) {
            var titleElem = Galleries.findElem(scriptBlock, 'div', 'title')[0];
            var labelElems = Galleries.findElem(titleElem, 'span');
            if (labelElems.length == 0) {
                labelElems = titleElem;
            }
            var languageSpans = Galleries.findElem(scriptBlock, 'span', 'hidden');
            var pres = Galleries.findElem(scriptBlock, 'pre');
            if (languageSpans.length > 0 && pres.length > 1) {
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    var languageSpan = languageSpans[index];
                            
                    elem.code = codePre.innerHTML.replace( /(\r(\n)?)|((\r)?\n)/ig , '\\r\\n');
                            
                    codePre.className = codePre.className.replace(hiddenPreClass, '');
                            
                    languageSpan.parentNode.removeChild(languageSpan);
                });

                pres = Galleries.findElem(scriptBlock, 'pre');
                Galleries.iterateElem(labelElems, function(index, elem) {
                    var codePre = pres[index];
                    var labelSpan = elem;
                    if (index == 0) {
                        scriptBlock.activeTab = 0;
                    }
                    else {
                        labelSpan.className += otherTabClass;
                        codePre.className += hiddenPreClass;
                    }
                    Galleries.attachEventHandler(labelSpan, 'click', function(e) {
                        var activeTab = scriptBlock.activeTab;
                        labelElems[activeTab].className += otherTabClass;
                        pres[activeTab].className += hiddenPreClass;

                        codePre.className = codePre.className.replace(hiddenPreClass, '');
                        labelSpan.className = labelSpan.className.replace(otherTabClass, '');
                        scriptBlock.activeTab = index;
                    });
                });

                var preview = Galleries.findElem(scriptBlock, 'div', 'preview');
                if (preview.length == 0) {
                    preview.push(pres[pres.length - 1]);
                }
                Galleries.iterateElem(preview, function(index, elem) {
                    elem.parentNode.removeChild(elem);
                });

                if (window.clipboardData && clipboardData.setData) {
                    var copyLink = document.createElement('a');
                    copyLink.href = 'javascript:void(0);';
                    copyLink.className = 'copyCode';
                    copyLink.innerHTML = 'Copy Code';
                    Galleries.attachEventHandler(copyLink, 'click', function (e) {
                        clipboardData.setData("Text", htmlDecode(labelElems[scriptBlock.activeTab].code));
                        return false;
                    });
                    scriptBlock.insertBefore(copyLink, scriptBlock.childNodes[0]);
                }
            }
        });
    }

    Galleries.onWindowLoad(function(){
        initializePage();
    });

</script>
<div id="longDesc">
    
<div id="mainBody">
<p>&nbsp;</p>
<div class="introduction">
<p>This sample demonstrates the basics of speech recognition for speech-to-text functionality, in addition to the fundamentals of working with Windows Azure Mobile Services to retrieve and store data in a Windows Azure database table. When the app runs, it
 authenticates a user by using a Microsoft Account, retrieves the user&rsquo;s notes that are stored in the Windows Azure database, and gives the user access to record and store new notes in the database, and delete existing notes. This sample shows you how
 to do the following:</p>
<ul>
<li>
<p>Use Mobile Services to authenticate a user by using a Microsoft Account.</p>
</li><li>
<p>Use Mobile Services to store, retrieve, and delete data from a Windows Azure database table.</p>
</li><li>
<p>Generate text from speech using the Windows Phone speech recognition APIs and the predefined dictation grammar.</p>
</li></ul>
<p>This sample uses the Windows Phone speech recognition APIs and the Windows Azure Mobile Services SDK. For more info about speech recognition in Windows&nbsp;Phone&nbsp;8, see
<a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207021(v=vs.105).aspx">
Speech recognition for Windows Phone 8</a>. For more info about the Windows Azure Mobile Services SDK, visit
<a href="http://www.windowsazure.com/en-us/develop/mobile/">Windows Azure Mobile Services</a>.</p>
<p>&nbsp;</p>
<h3 class="procedureSubHeading">Steps to build and run the sample</h3>
<div class="subSection">
<ol>
<li>
<p>Create a Windows Azure account that has the Mobile Services feature enabled. For details about creating a free account and enabling preview features, see
<a href="http://www.windowsazure.com/en-us/develop/mobile/tutorials/create-a-windows-azure-account">
Create a Windows Azure account and enable preview features</a>.</p>
</li><li>
<p>Create a Mobile Service and a Windows Azure database to use for the sample. For info about how to do this, see the section
<span class="ui">Create a new mobile service</span> in the <a href="http://www.windowsazure.com/en-us/develop/mobile/tutorials/get-started-wp8/">
Get started with Mobile Services</a> tutorial.</p>
<div class="alert">
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th align="left"><strong>Note:</strong> </th>
</tr>
<tr>
<td>
<p>The <span class="label">Get started with Mobile Services</span> tutorial covers more than is needed for this sample. For this sample you only need to perform the steps specified in the
<span class="label">Create a new mobile service</span> section, using your chosen mobile service and database names.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>
<p>Set up a database table named <span class="ui">VoiceNote</span> to use in the sample.</p>
<ol>
<li>
<p>Log on to the <a href="http://manage.windowsazure.com">Windows Azure management portal</a>, and then click the
<span class="ui">Mobile Services</span> tab.</p>
</li><li>
<p>Click the name of your mobile service.</p>
</li><li>
<p>Click the <span class="ui">DATA</span> tab.</p>
</li><li>
<p>Click the <span class="ui">CREATE</span> button at the bottom of the page.</p>
</li><li>
<p>Name the table <span class="ui">VoiceNote</span>.</p>
</li><li>
<p>When you set the permissions for the table, use the <span class="ui">Only Authenticated Users</span> option for all actions.</p>
</li></ol>
<div class="alert">
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th align="left"><strong>Note:</strong> </th>
</tr>
<tr>
<td>
<p>For the purposes of this sample, the table must be named <span class="label">
VoiceNote</span>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>
<p>If it&rsquo;s not already installed, install <a href="http://www.microsoft.com/visualstudio/eng/downloads">
Visual Studio Express 2012 for Windows Phone</a>.</p>
</li><li>
<p>Install the <a href="http://code.msdn.microsoft.com/Azure-Voice-Notes-a86cf2b9/https://go.microsoft.com/fwLink/p/?LinkID=268375">Windows Azure Mobile Services SDK</a>.</p>
</li><li>
<p>Register the sample app for Microsoft Account authentication using the steps shown in
<a href="http://www.windowsazure.com/en-us/develop/mobile/tutorials/get-started-with-users-wp8/">
Get started with authentication in Mobile Services</a>. Although other account types are possible, the sample is currently configured to use a Microsoft Account for authentication.</p>
<div class="alert">
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th align="left"><strong>Note:</strong> </th>
</tr>
<tr>
<td>
<p>The code for authentication is included in the sample, you only need to perform the steps in the
<span class="ui">Register your app for authentication and configure Mobile Services</span> section.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>
<p>Update the Windows Azure database table read and update scripts to support authentication.</p>
<ol>
<li>
<p>Log on to the <a href="http://manage.windowsazure.com">Windows Azure management portal</a>, and then click the
<span class="ui">Mobile Services</span> tab.</p>
</li><li>
<p>Click the name of your mobile service.</p>
</li><li>
<p>Click the <span class="ui">DATA</span> tab.</p>
</li><li>
<p>Select the <span class="ui">VoiceNote</span> table.</p>
</li><li>
<p>Click the <span class="ui">SCRIPT</span> tab.</p>
</li><li>
<p>In the Action list <span class="ui">OPERATION</span> click <span class="ui">
Insert</span>, and then replace the default code with the following code example.</p>
<div class="code"><span>
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
<tr>
<td colspan="2">
<pre>function insert(item, user, request) {
    item.userId = user.userId; 
    item.createdAt = new Date();
    request.execute();
}</pre>
</td>
</tr>
</tbody>
</table>
</span></div>
</li><li>
<p>In the Action list <span class="ui">OPERATION</span> click <span class="ui">
Read</span>, and then replace the default code with the following code example.</p>
<div class="code"><span>
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
<tr>
<td colspan="2">
<pre>function read(query, user, request) {
    query.where({ userId: user.userId });
    request.execute();
}</pre>
</td>
</tr>
</tbody>
</table>
</span></div>
</li></ol>
</li><li>
<p>Add the Azure Application Key and mobile service URL to the sample <strong>App.Xaml.cs</strong> file as shown in the following code example.</p>
<div class="code"><span>
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
<tr>
<td colspan="2">
<pre>//Static MobileServiceClient object for use by the application
//Initialize with your specific mobile service URL and application key
public static MobileServiceClient MobileService = new MobileServiceClient(
   &quot;Your mobile service URL&quot;,
   &quot;Your application key&quot;);</pre>
</td>
</tr>
</tbody>
</table>
</span></div>
<div class="alert">
<table cellspacing="0" cellpadding="0" width="100%">
<tbody>
<tr>
<th align="left"><strong>Note:</strong> </th>
</tr>
<tr>
<td>
<p>To find the mobile service URL and Azure Application Key, go to the Windows Azure management portal and click the
<span class="ui">Mobile Services</span> tab. The URL is specified in the central table. To display the keys, click the
<span class="ui">Manage Keys</span> button at the bottom of the page.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li><li>
<p>Build the sample.</p>
</li></ol>
</div>
<h3 class="procedureSubHeading">Build the sample</h3>
<div class="subSection">
<ol>
<li>
<p>Start Visual Studio Express 2012 for Windows&nbsp;Phone and select <span class="ui">
File</span> &gt; <span class="ui">Open</span> &gt; <span class="ui">Project/Solution</span>.</p>
</li><li>
<p>Go to the directory in which you unzipped the sample. Double-click the Visual Studio Express 2012 for Windows&nbsp;Phone solution (<span class="label">.sln</span>) file.</p>
</li><li>
<p>Select <span class="ui">Build</span> &gt; <span class="ui">Rebuild Solution</span> to build the sample.</p>
</li></ol>
</div>
<h3 class="procedureSubHeading">Run the sample</h3>
<div class="subSection">
<ol>
<li>
<p>To debug the app and then run it, press F5 or use <span class="ui">Debug</span> &gt;
<span class="ui">Start Debugging</span>.</p>
</li><li>
<p>To run the app without debugging, press Ctrl&#43;F5 or use <span class="ui">Debug</span> &gt;
<span class="ui">Start Without Debugging</span>.</p>
</li></ol>
</div>
<p><strong>See also</strong></p>
<ul>
<li>
<p><a href="http://www.windowsazure.com/en-us/develop/mobile/">Windows Azure Mobile Services</a></p>
</li><li>
<p><a href="http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207021(v=vs.105).aspx">Speech recognition for Windows Phone 8</a></p>
</li></ul>
</div>
</div>

</div>


    </div>
</body>
</html>
